<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <title>Javascript Chat Bot Demo</title>
</head>

<body>

    <script src="../js/chatbot.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/chatbot.css" />

    <div id="demo">
        <div id="chatBotCommandDescription"></div>
        <input id="humanInput" type="text" placeholder="Say something" />

        <div class="button"
            onclick="if (!ChatBot.playConversation(sampleConversation,4000)) {alert('conversation already running');};">
            Play sample conversation!</div>
        <div class="button" onclick="$('#chatBotCommandDescription').slideToggle();" style="margin-right:10px">What can
            I say?</div>

        <div style="clear: both;">&nbsp;</div>

        <div id="chatBot">
            <div id="chatBotThinkingIndicator"></div>
            <div id="chatBotHistory"></div>
        </div>
    </div>


    <script>


        var sampleConversation = [
            "Hi",
            "My name is Fry",
            "Where is China?",
            "What is the population of China?",
            "Bye"
        ];



        var config = {
            botName: 'SAP',
            inputs: '#humanInput',
            inputCapabilityListing: true,
            engines: [ChatBot.Engines.SAP()],
            normalizer: [text => text.trim()],
            addChatEntryCallback: function (entryDiv, text, origin) {
                entryDiv.delay(200).slideDown();
            }
        };
        ChatBot.init(config);
        ChatBot.setBotName("SAP");

    </script>

    <script>


        // getToken().then(
        //     token => {
        //         const message = {
        //             message: {
        //                 content: "Hi",
        //                 type: "text"
        //             },
        //             conversation_id: "1"
        //         }
        //         fetch(requestURL, {
        //             body: JSON.stringify(message),
        //             method: 'POST',
        //             headers: {
        //                 'Authorization': `Bearer ${token.access_token}`,
        //                 'X-Token': `Token ${requesttoken}`,
        //                 'Content-Type': 'application/json'
        //             }
        //         })
        //             .then(res => {
        //                 return res.json()
        //             })
        //             .then(data => {
        //                 console.log(data.results.messages[0]);
        //             })
        //             .catch(err => {
        //                 console.log('err: ', err);
        //             });
        //     }
        // )

    </script>
</body>

</html>